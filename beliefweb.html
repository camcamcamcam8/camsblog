<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Camden's Belief Universe</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body {
      margin: 0; 
      padding: 0;
      font-family: sans-serif;
      background-color: #f9f9f9;
    }
    h1, p {
      text-align: center;
      margin: 20px auto;
      max-width: 800px;
    }
    #chart {
      width: 100%;
      height: 800px; /* Adjust as needed */
      margin: 0 auto;
      background: #fff;
      border: 1px solid #ccc;
    }

    /* Core belief circles (“bubbles” for entire phrase) */
    .coreCircle {
      fill: steelblue;
      stroke: #333;
      stroke-width: 1px;
    }

    /* Sub-belief circles */
    .subCircle {
      fill: orange;
      stroke: #666;
      stroke-width: 1px;
      cursor: pointer; /* show clickable hand icon */
    }

    /* Lines linking sub to core */
    line {
      stroke: #999;
      stroke-width: 1px;
      stroke-opacity: 0.6;
    }

    /* Text styling */
    text {
      font-size: 0.8rem;
      fill: #333;
    }
    .coreLabel {
      fill: white; 
      font-weight: bold; 
      text-anchor: middle; 
      dominant-baseline: middle; /* center text in circle */
      pointer-events: none; /* let mouse go through text to circle */
    }
    .subLabel {
      font-weight: bold; 
      pointer-events: none; /* so clicks go to circle, not text */
    }
  </style>
</head>
<body>
  <h1>Camden's Belief Universe</h1>
  <p>
    Seven core beliefs are shown as large blue bubbles around the center.<br/>
    Sub-beliefs are in orange circles on the outer ring. Zoom, pan, or click sub-beliefs for more info!
  </p>

  <div id="chart"></div>

  <script>
    // -----------------------------------------------------------------
    // 1) DEFINE YOUR DATA
    // -----------------------------------------------------------------

    // The 7 Core Beliefs
    const coreBeliefs = [
      { id: "Core1", name: "Universal Consciousness" },
      { id: "Core2", name: "Oneness & Interconnectedness" },
      { id: "Core3", name: "Societal Conditioning" },
      { id: "Core4", name: "Suffering from Resistance" },
      { id: "Core5", name: "Purpose & Greater Good" },
      { id: "Core6", name: "Universal Laws & Energy" },
      { id: "Core7", name: "Knowledge vs. Wisdom" },
    ];

    // Each sub-belief has:
    //  - an id
    //  - a parent "coreId" (which links it to the relevant core)
    //  - a "label" to display
    //  - an "info" field for the popup text
    const subBeliefs = [
      { id: "1.1", coreId: "Core1", label: "We Are Spiritual Beings Having a Human Experience", info: "Expands on the notion that our essence is beyond the physical." },
      { id: "1.2", coreId: "Core1", label: "Death Is Not Truly an End", info: "Suggests consciousness may continue beyond physical life." },
      { id: "1.3", coreId: "Core1", label: "There Is a Divine Order Amidst Chaos", info: "Despite randomness, deeper harmony underlies events." },
      { id: "1.4", coreId: "Core1", label: "Prayer or Intention-Setting Opens the Heart", info: "Connecting with Source aligns your energy to higher states." },
      { id: "1.5", coreId: "Core1", label: "Stillness Reveals Inner Truth", info: "Silence unveils deeper awareness beyond mental chatter." },

      // (2) Oneness & Interconnectedness
      { id: "2.1", coreId: "Core2", label: "Authentic Service Reflects Oneness", info: "Helping others is helping oneself in a unified reality." },
      { id: "2.2", coreId: "Core2", label: "Self-Forgiveness Is Key", info: "Judging self harshly disrupts unity within." },
      { id: "2.3", coreId: "Core2", label: "Nothing External Can Truly Complete You", info: "True wholeness exists inside, not in outer forms." },
      { id: "2.4", coreId: "Core2", label: "Everyone Always Does What They Think Is Best", info: "Fosters empathy—recognize that even poor actions come from perceived self-interest." },
      { id: "2.5", coreId: "Core2", label: "Everyone's Value as a Human Is EQUAL", info: "We all share the same intrinsic worth, beyond status or money." },
      { id: "2.6", coreId: "Core2", label: "You Don't Have to Earn What's Already Yours", info: "We inherently possess love, worth, and potential." },

      // (3) Societal Conditioning
      { id: "3.1", coreId: "Core3", label: "An Open Heart Is the Natural State", info: "Children begin life open and trusting; society teaches fear or closure." },
      { id: "3.2", coreId: "Core3", label: "Emotions Are Energetic Invitations", info: "Feelings urge release or growth, rather than suppression." },
      { id: "3.3", coreId: "Core3", label: "The Human Mind Is a Tool, Not the Master", info: "When we overly identify with thoughts, we become enslaved by them." },
      { id: "3.4", coreId: "Core3", label: "Playfulness & Joy Are Sacred", info: "Lighthearted creativity counters the seriousness imposed by culture." },
      { id: "3.5", coreId: "Core3", label: "Less Is More", info: "Minimalism can clarify mind and life, away from consumerist bloat." },
      { id: "3.6", coreId: "Core3", label: "Good/Bad Are Perspectives, Not Absolutes", info: "Moral labels vary with viewpoint, no universal black/white." },
      { id: "3.7", coreId: "Core3", label: "Reality Is Not Binary; Our Minds Impose Categories", info: "We simplify a spectrum into yes/no, missing nuance." },

      // (4) Suffering from Resistance
      { id: "4.1", coreId: "Core4", label: "Acceptance Is Not Passivity", info: "Surrendering to 'what is' fosters empowered responses, not inaction." },
      { id: "4.2", coreId: "Core4", label: "Higher Frequencies Expand Possibility", info: "Love, gratitude, etc., open doors beyond negativity." },
      { id: "4.3", coreId: "Core4", label: "Gratitude Is a Gateway to Love & Peace", info: "Thankfulness dissolves mental conflict and fosters contentment." },
      { id: "4.4", coreId: "Core4", label: "Feeling Is the Secret", info: "Embodying the emotions of your desired state changes your inner world." },
      { id: "4.5", coreId: "Core4", label: "Adversity Is a Portal to Awakening", info: "Challenges can propel deep transformation if met consciously." },
      { id: "4.6", coreId: "Core4", label: "You Don't Need to Push Through Fear—Stop Identifying with Its Source", info: "Fear arises from the egoic mind; dis-identification dissolves it." },

      // (5) Purpose & Greater Good
      { id: "5.1", coreId: "Core5", label: "The Kingdom of God/Enlightenment Is Within", info: "Fulfillment arises from self-realization rather than external pursuit." },
      { id: "5.2", coreId: "Core5", label: "Nature Is a Gateway to the Divine", info: "Observation of the natural world reveals unity and harmony." },
      { id: "5.3", coreId: "Core5", label: "God/The Universe Works Through My Actions, Not in Place of Them", info: "We co-create actively with a higher force, rather than passively waiting." },

      // (6) Universal Laws & Energy
      { id: "6.1", coreId: "Core6", label: "We Co-Create Reality with Consciousness", info: "Our beliefs, emotions, and focus help shape our experiences." },
      { id: "6.2", coreId: "Core6", label: "Focus on the 'What'; Universe Takes Care of the 'How'", info: "Intend your outcome and trust universal processes." },
      { id: "6.3", coreId: "Core6", label: "Becoming the Person Who Has X Is the True Way", info: "Embody the state of having, not the struggle of wanting." },
      { id: "6.4", coreId: "Core6", label: "The Universe Is Constantly Offering Doors", info: "Synchronicities and opportunities appear when you're aligned." },
      { id: "6.5", coreId: "Core6", label: "Manifestation Speed Reflects Certainty", info: "Doubt slows creation; full conviction accelerates it." },
      { id: "6.6", coreId: "Core6", label: "Internal Contradiction Is the Biggest Delay", info: "When subconscious beliefs clash with desires, results stall." },
      { id: "6.7", coreId: "Core6", label: "Speak & Act from Already Having It", info: "Words and deeds from abundance reinforce that reality." },
      { id: "6.8", coreId: "Core6", label: "Every Intention Has an Energetic Charge", info: "Feeling and awareness behind intentions amplify their power." },
      { id: "6.9", coreId: "Core6", label: "Faith, Not Force, Accelerates Desire", info: "Relaxed trust outperforms frantic effort." },

      // (7) Knowledge vs. Wisdom
      { id: "7.1", coreId: "Core7", label: "Presence Is the Ultimate Practice", info: "True wisdom emerges by living fully in the Now." },
      { id: "7.2", coreId: "Core7", label: "Stillness Reveals Inner Truth", info: "Going beyond mental noise uncovers deep insight." },
    ];

    // -----------------------------------------------------------------
    // 2) CONFIGURE LAYOUT CONSTANTS
    // -----------------------------------------------------------------

    const width = document.getElementById("chart").clientWidth;
    const height = document.getElementById("chart").clientHeight;

    // We'll place the 7 core beliefs in a circle of radius ~150 around center
    const coreRadius = 150;
    // Place sub-beliefs in a larger circle of radius ~300
    const subRadius = 300;

    const centerX = width / 2;
    const centerY = height / 2;

    // For 7 cores, angle step around the circle
    const coreAngleStep = (2 * Math.PI) / coreBeliefs.length;

    // We'll group sub-beliefs by their parent core
    let subGroups = {};
    coreBeliefs.forEach(cb => {
      subGroups[cb.id] = [];
    });
    subBeliefs.forEach(sb => {
      subGroups[sb.coreId].push(sb);
    });

    // -----------------------------------------------------------------
    // 3) CREATE THE SVG + ZOOM/PAN
    // -----------------------------------------------------------------
    const svg = d3.select("#chart")
      .append("svg")
      .attr("width", width)
      .attr("height", height);

    const svgGroup = svg.append("g");

    const zoom = d3.zoom()
      .scaleExtent([0.3, 3])
      .on("zoom", (event) => {
        svgGroup.attr("transform", event.transform);
      });

    svg.call(zoom).call(zoom.transform, d3.zoomIdentity.scale(0.8));

    // -----------------------------------------------------------------
    // 4) DRAW LINES + BUBBLES FOR CORES
    // -----------------------------------------------------------------

    // We'll calculate positions for each core in a circle
    coreBeliefs.forEach((core, i) => {
      let angle = i * coreAngleStep; 
      core.x = centerX + coreRadius * Math.cos(angle);
      core.y = centerY + coreRadius * Math.sin(angle);
    });

    // For each core belief, create a big circle + centered text
    const coreNodes = svgGroup.selectAll(".coreCircle")
      .data(coreBeliefs)
      .enter()
      .append("g")
      .attr("transform", d => `translate(${d.x},${d.y})`);

    // Big circle bubble
    coreNodes.append("circle")
      .attr("class", "coreCircle")
      .attr("r", 50); // radius big enough for the phrase

    // Centered text
    coreNodes.append("text")
      .attr("class", "coreLabel")
      .text(d => d.name);

    // -----------------------------------------------------------------
    // 5) DRAW SUB-BELIEFS AROUND THE WHOLE RING
    // -----------------------------------------------------------------

    // We place sub-beliefs in arcs around the entire ring of radius subRadius.
    // We'll distribute them evenly among all sub-beliefs, ignoring which core for the radial position,
    // but we still link them to their parent.

    // Flatten subBeliefs into one array
    // Then we'll angle-step them around subRadius
    const totalSubs = subBeliefs.length;
    const subAngleStep = (2 * Math.PI) / totalSubs;

    subBeliefs.forEach((sb, i) => {
      let angle = i * subAngleStep;
      sb.x = centerX + subRadius * Math.cos(angle);
      sb.y = centerY + subRadius * Math.sin(angle);
    });

    // Create group for each sub-belief
    const subGroup = svgGroup.selectAll(".subGroup")
      .data(subBeliefs)
      .enter()
      .append("g")
      .attr("class", "subGroup")
      .attr("transform", d => `translate(${d.x},${d.y})`);

    // The line from the sub-belief to its core
    // We'll draw these first, so they appear behind circles
    // Actually, let's do it after computing positions:
    svgGroup.selectAll(".subLink")
      .data(subBeliefs)
      .enter()
      .append("line")
      .attr("class", "subLink")
      .attr("x1", d => d.x)
      .attr("y1", d => d.y)
      .attr("x2", d => {
        let parentCore = coreBeliefs.find(cb => cb.id === d.coreId);
        return parentCore.x;
      })
      .attr("y2", d => {
        let parentCore = coreBeliefs.find(cb => cb.id === d.coreId);
        return parentCore.y;
      });

    // Sub-belief circle
    subGroup.append("circle")
      .attr("class", "subCircle")
      .attr("r", 6)
      .on("click", (event, d) => {
        // Show popup info
        alert(`${d.label}\n\n${d.info}`);
      });

    // Label next to sub belief
    // We'll place text slightly offset
    subGroup.append("text")
      .attr("class", "subLabel")
      .attr("x", 10) // offset to the right
      .attr("y", 3)
      .text(d => d.label);

  </script>
</body>
</html>
